<chapter id="core_encoding_messagesource">
	<title>EncodingResourceBundleMessageSource</title>
	<para>
		Message Resource가 native2ascii 툴을 이용하여 ASCII 텍스트 파일로 전환되어 있다면 Spring의 org.springframework.context.support.ResourceBundleMessageSource 
		클래스를 그대로 사용하고, non-ASCII 인코딩 방식의 텍스트 파일로 저장되어 있다면 Anyframe에서 제공하는 org.anyframe.spring.message.EncodingResourceBundleMessageSource 
		클래스를 이용해주도록 한다.
		(참고: native2ascii 툴을 이용하여 non-ASCII 인코딩 방식의 텍스트 파일을  ASCII 텍스트 파일로 전환한 경우, 모든 non-ASCII characters들은 \udddd 형태로 저장되고 이때 이 dddd는 
		non-ASCII character의 유니코드 값이다.)
	</para>
	<para>
		Message Resource가 non-ASCII 인코딩 방식의 텍스트 파일 형태라면, 언어별로 서로 다른 메시지를 Service 단에서 로그로 남기거나 화면에서 메시지로 남기기 위해서는 
		Encoding에 대한 처리를 매번 해줘야 하므로 Anyframe에서는 EncodingResourceBundleMessageSource를 제공하며 사용자가 지정한 Encoding 방식으로 message를 추출할 수 있도록 지원한다.  
	<para>
		다음은 Core Plugin 설치로 추가된 context-message.xml 파일의 일부로 'messageSource' Bean 정의 내용이다.</para>
	</para>		
	<programlisting language="xml"><![CDATA[<bean id="messageSource" 
    class="]]><emphasis role="bold"><![CDATA[org.anyframe.spring.message.EncodingResourceBundleMessageSource]]></emphasis><![CDATA[">
    <property name="basenames">
        <list>
            <value>message/message-generation</value>        
            <value>message/message-moviefinder</value>
            <value>message/message-converter</value>
        </list>
    </property>
    ]]><emphasis role="bold"><![CDATA[<property name="defaultEncoding">
        <value>UTF-8</value>
    </property>]]></emphasis><![CDATA[
</bean>]]></programlisting>
	<para>
		위와 같이 EncodingResourceBundleMessageSource의 defaultEncoding 속성을 사용하여 Encoding을 정의해 줌으로써 messageSource bean을 정의한다.
		defaultEncoding을 정의하지 않을 시에는 기본적으로 "UTF-8"로 셋팅된다. 
	</para>
</chapter>